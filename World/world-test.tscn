[gd_scene load_steps=20 format=3 uid="uid://b78acft5a5sfy"]

[ext_resource type="PackedScene" uid="uid://jksnbdthe1y6" path="res://World/Maps/test_map.tscn" id="1_wukwe"]
[ext_resource type="PackedScene" uid="uid://n8gglyvki7dw" path="res://World/Entities/Character/Player/player_entity.tscn" id="2_3tyht"]
[ext_resource type="PackedScene" uid="uid://bhitj5sv3t5vw" path="res://World/Entities/Hazards/fatal_hazard_test.tscn" id="3_37lbi"]
[ext_resource type="PackedScene" uid="uid://djavq7x3k3fm0" path="res://World/Entities/Storage/storage_entity.tscn" id="4_3l7xu"]
[ext_resource type="PackedScene" uid="uid://c610weevdtphv" path="res://UI/ui_game_hud.tscn" id="4_kp64n"]
[ext_resource type="Script" path="res://World/Entities/GameEntity.cs" id="4_lr4tl"]
[ext_resource type="Shader" path="res://Shaders/Sprite Shaders/2d_outline.gdshader" id="6_is4cx"]
[ext_resource type="Script" path="res://World/Entities/Area2DEntityReference.cs" id="6_u5nph"]
[ext_resource type="Texture2D" uid="uid://bld2qqqsfd40i" path="res://UI/Input/Keyboard/keyboard_blank_key_1.png" id="7_hfiev"]
[ext_resource type="PackedScene" uid="uid://cmcnfywe836lq" path="res://World/Entities/interaction_outline_effect.tscn" id="9_k65bk"]
[ext_resource type="Script" path="res://World/Entities/Properties/Interactable.cs" id="9_ufl5l"]
[ext_resource type="PackedScene" uid="uid://bb1sfvq8h1ymh" path="res://World/Entities/Plants/LightPlant/plant_light_flower.tscn" id="11_dh45g"]
[ext_resource type="PackedScene" uid="uid://ng01afb5x4gj" path="res://World/Entities/Rest/rest_point_entity.tscn" id="13_4nh1i"]
[ext_resource type="Script" path="res://UI/Effects/EffectSleepFade.cs" id="13_e1v1h"]
[ext_resource type="PackedScene" uid="uid://cwg841lwpsryh" path="res://World/Entities/Plants/DarkPlant/dark_tentacle_attack.tscn" id="13_tws6j"]
[ext_resource type="AudioStream" uid="uid://brxj5kgmj6gcs" path="res://Music/sleep_jingle.ogg" id="14_itery"]

[sub_resource type="CanvasTexture" id="CanvasTexture_nemjj"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hlvoq"]
size = Vector2(25, 24)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ho6xo"]
resource_local_to_scene = true
shader = ExtResource("6_is4cx")
shader_parameter/color = Color(1, 1, 1, 1)
shader_parameter/width = 1.0
shader_parameter/pattern = 0
shader_parameter/inside = false
shader_parameter/add_margins = true

[node name="world-test" type="Node2D"]

[node name="WorldBackground" type="Sprite2D" parent="."]
modulate = Color(0, 0, 0, 1)
scale = Vector2(1e+08, 1e+08)
texture = SubResource("CanvasTexture_nemjj")

[node name="WorldRoot" type="Node2D" parent="."]

[node name="test_map" parent="WorldRoot" instance=ExtResource("1_wukwe")]
position = Vector2(0, 1)

[node name="PlayerEntity" parent="WorldRoot" groups=["EntityProvider"] instance=ExtResource("2_3tyht")]
position = Vector2(413, 181)

[node name="Camera2D" type="Camera2D" parent="WorldRoot/PlayerEntity"]
position = Vector2(-1, -1)
zoom = Vector2(2, 2)

[node name="FatalHazard-Test" parent="WorldRoot" instance=ExtResource("3_37lbi")]
position = Vector2(330, 218)

[node name="Storage-Test" parent="WorldRoot" instance=ExtResource("4_3l7xu")]

[node name="InteractableTest" type="Node2D" parent="WorldRoot"]
position = Vector2(542, 105)
script = ExtResource("4_lr4tl")

[node name="Area2D" type="Area2D" parent="WorldRoot/InteractableTest" node_paths=PackedStringArray("Entity") groups=["EntityProvider"]]
script = ExtResource("6_u5nph")
Entity = NodePath("..")

[node name="CollisionShape2D" type="CollisionShape2D" parent="WorldRoot/InteractableTest/Area2D"]
shape = SubResource("RectangleShape2D_hlvoq")

[node name="Sprite2D" type="Sprite2D" parent="WorldRoot/InteractableTest"]
texture = ExtResource("7_hfiev")

[node name="Interactable" type="Node2D" parent="WorldRoot/InteractableTest" node_paths=PackedStringArray("Handler")]
script = ExtResource("9_ufl5l")
Handler = NodePath("InteractionHandler")

[node name="InteractionHandler" parent="WorldRoot/InteractableTest/Interactable" node_paths=PackedStringArray("Sprite") instance=ExtResource("9_k65bk")]
Sprite = NodePath("../../Sprite2D")
InteractionMaterial = SubResource("ShaderMaterial_ho6xo")

[node name="CanvasModulate" type="CanvasModulate" parent="WorldRoot"]
color = Color(0, 0, 0, 1)

[node name="Plant-LightFlower" parent="WorldRoot" instance=ExtResource("11_dh45g")]
position = Vector2(333, 120)
OutputAmount = 5

[node name="Plant-LightFlower2" parent="WorldRoot" instance=ExtResource("11_dh45g")]
position = Vector2(404, 247)
OutputAmount = 5

[node name="Plant-LightFlower3" parent="WorldRoot" instance=ExtResource("11_dh45g")]
position = Vector2(512, 126)
OutputAmount = 5

[node name="Plant-LightFlower4" parent="WorldRoot" instance=ExtResource("11_dh45g")]
position = Vector2(560, 250)

[node name="RestPointEntity" parent="WorldRoot" instance=ExtResource("13_4nh1i")]

[node name="Plant-Dark" type="Node2D" parent="WorldRoot"]
position = Vector2(678, 137)
script = ExtResource("4_lr4tl")

[node name="Dark-Tenticle" parent="WorldRoot/Plant-Dark" instance=ExtResource("13_tws6j")]

[node name="FadeWorld" type="CanvasLayer" parent="." node_paths=PackedStringArray("Rect", "SleepJingle")]
script = ExtResource("13_e1v1h")
Rect = NodePath("ColorRect")
SleepJingle = NodePath("SleepJingleMusicPlayer")

[node name="ColorRect" type="ColorRect" parent="FadeWorld"]
visible = false
modulate = Color(0, 0, 0, 1)
offset_right = 1280.0
offset_bottom = 720.0
color = Color(0, 0, 0, 1)

[node name="SleepJingleMusicPlayer" type="AudioStreamPlayer" parent="FadeWorld"]
stream = ExtResource("14_itery")

[node name="UIRoot" type="CanvasLayer" parent="."]

[node name="UIGameHUD" parent="UIRoot" instance=ExtResource("4_kp64n")]
offset_left = 13.0
offset_top = -9.0
offset_right = 13.0
offset_bottom = -9.0
